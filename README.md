# Brilliant Build

A build system that aims to be *scalable* and *correct*.

*This is a work in progress.*

# How It Works

## Build Descriptions

Here is a simple example:

```json
{
    "rules": [
        {
            "inputs": ["foo.c"],
            "task": "gcc -c foo.c -o foo.o",
            "outputs": ["foo.o"]
        },
        {
            "inputs": ["bar.c"],
            "task": "gcc -c bar.c -o bar.o",
            "outputs": ["bar.o"]
        },
        {
            "inputs": ["foo.o", "bar.o"],
            "task": "gcc foo.o bar.o -o foobar",
            "outputs": ["foobar"],
            "description": "Linking"
        }
    ]
}
```

A build description is intended to be as simple as possible such that it can be
easily generated by, say, a Python or Lua script. For now, the format is in
JSON.

### Rules

A build description consists of a set of *rules*. A rule consists of a list of
*inputs* and *outputs* along with an associated *task*.

### Tasks

A task is some program with side effects. In the above example, it is the
compilation of a set of C files and the linkage of the resulting object files
using `gcc`.

### Inputs and Outputs

Think of the inputs and outputs as strict requirements of the task. The task
must perform a read on each of the input files and it must perform a write on
each of the output files. If it doesn't, it is treated as an error. By listing
inputs and outputs, you are placing certain guarantees on the build. Specifying
inputs and outputs also allows the build system to construct an initial ordering
of the tasks.
